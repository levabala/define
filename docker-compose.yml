services:
    define:
        image: ghcr.io/levabala/define:latest
        container_name: define
        restart: unless-stopped
        deploy:
            restart_policy:
                condition: unless-stopped
                max_attempts: 10
        environment:
            - DB_FILE_NAME=${DB_FILE_NAME}
            - JWT_SECRET=${JWT_SECRET}
            - DB_ROOT_DIR=/app/data
            - VITE_DATADOG_APPLICATION_ID=${VITE_DATADOG_APPLICATION_ID}
            - VITE_DATADOG_CLIENT_TOKEN=${VITE_DATADOG_CLIENT_TOKEN}
        volumes:
            - define-data:/app/data
        networks:
            - nginx-network

volumes:
    define-data:

networks:
    nginx-network:
        external: true
        name: my-server-nginx_default
